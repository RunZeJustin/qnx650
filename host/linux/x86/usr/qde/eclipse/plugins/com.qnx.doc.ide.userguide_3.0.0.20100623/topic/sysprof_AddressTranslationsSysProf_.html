
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="copyright" content="(C) Copyright 2005" />
      <meta name="DC.rights.owner" content="(C) Copyright 2005" />
      <meta name="DC.Type" content="concept" />
      <meta name="DC.Title" content="Address translation" />
      <meta name="abstract" content="" />
      <meta name="description" content="" />
      <meta name="DC.Relation" scheme="URI" content="../topic/sysprof_TARGET_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/sysprof_WIZARD_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/sysprof_WIZOPTS_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/sysprof_CAPTURE_.html" />
      <meta name="DC.Format" content="XHTML" />
      <meta name="DC.Identifier" content="Addresstranslation" />
      <meta name="DC.Language" content="en-us" />
      <link rel="stylesheet" type="text/css" href="../commonltr.css" />
      <link rel="stylesheet" type="text/css" href="../style.css" />
      <title>Address translation</title>
   </head>
   <body id="Addresstranslation"><a name="Addresstranslation" shape="rect">
         <!-- --></a>
      
      
      
      <h1 class="topictitle1">Address translation</h1>
      
      
      
      <div>
         <p></p>
         
         
         <p>You can set your address translation information within the Kernel Event Trace Log launch configuration.
            
         </p>
         
         
         <p>
            <span><img src="../images/AddressTranslationsSysProf_.xml_d172688e24.jpg" alt="Address translation in Log Configuration dialog" /></span>
            
         </p>
         
         
         <div class="fignone">
            
            <p>Address translation in Log Configuration dialog.</p>
            
            
         </div>
         
         
         <p>To enable address translation:</p>
         
         <br clear="none" /><ol>
            <li>From the Target Navigator view, select a target, right-click, and select <span class="menucascade">
                  <span class="uicontrol">Log With</span>
                  &gt; <span class="uicontrol">Kernel Event Trace</span>
                  </span>. 
            </li>
            <li>For a Kernel Event Trace configuration, select the <span class="uicontrol">Address Translation</span> tab. 
            </li>
            <li>Select <span class="uicontrol">Enable address translation</span>, and then click <span class="uicontrol">Apply</span>.
            </li>
         </ol>
         
         
         <p>The address translation <span class="uicontrol">Binary Locations</span> lets you specify the search locations to use for your binaries. 
         </p>
         
         
         <p>The <span class="uicontrol">Binary Mappings</span> tab lets you specify the name of your binary (it will use the default load address). Click <span class="uicontrol">Add Binary</span> to manually provide a binary name if your binary is not found. If you click <span class="uicontrol">Import</span>, the Address Translation's <tt>pidin mem</tt> import lets you import only binaries that are contained within the defined binary search paths. 
            
         </p>
         
         
         <div class="note"><span class="notetitle">Note:</span> 
            
            <p>You can use the output from <span class="cmdname">pidin</span> to populate the binary mappings. The output will help you determine the load addresses of any libraries your application
               is using. To use this output, while your application is running, run the <span class="cmdname">pidin</span> command with the <span class="option">mem</span> option, and output the results to a file (i.e. <tt>pidin mem &gt; pidin_results</tt>). Use the <span class="uicontrol">Import</span> button to select the results file. 
            </p>
            
            
            <p>For Address translation (for interrupt IP events), the log file must be matched with the binary files in your workspace for
               address decoding to occur. 
            </p>
            
            
            <p>When a new kernel trace that contains address translation information is generated using Kernel Event Trace logging, the kernel
               trace automatically contains the address translation information. If you launch an application using a launch configuration
               that has the Kernel Logging tool enabled, the address translation information for the generated kernel trace comes from the
               settings of the Kernel Event Trace configuration (specified by the Kernel Logging tool). Additionally, address translation
               information for the binary being launched will be added to the kernel trace (set using <span class="menucascade">
                  <span class="uicontrol">Window</span>
                  &gt; <span class="uicontrol">Preferences</span>
                  </span>, and then select <span class="menucascade">
                  <span class="uicontrol">QNX</span>
                  &gt; <span class="uicontrol">System Profiler</span>
                  &gt; <span class="uicontrol">Address Translation Configuration</span>
                  </span>).
            </p>
            
            
         </div>
         
         
         <p>
            <strong>Trace event labels for address translation</strong>
            
         </p>
         
         
         <p>The Trace Event Label selection dialog includes address translation related keys (select <span class="uicontrol">System</span> on the Select Event Data Key dialog) for <span class="uicontrol">Function Entry</span> and <span class="uicontrol">Function Exit</span> events. These address translation keys are: 
            
         </p>
         
         <br clear="none" /><ul>
            <li><span class="uicontrol">srcfile</span>
               — The name of the source file where the called function resides. 
            </li>
            <li><span class="uicontrol">srcline</span>
               — The line within the source file where the called function resides. 
            </li>
            <li><span class="uicontrol">srcfunction</span> — The name of the called function. 
            </li>
            <li><span class="uicontrol">callsitesrcfile</span>
               — The name of the source file from which the function was called. 
            </li>
            <li><span class="uicontrol">callsitesrcline</span>
               — The line within the source where the function was called. 
            </li>
            <li><span class="uicontrol">callsitesrcfunction</span>
               — The name of the function that called the function. 
            </li>
         </ul>
         
         
         <p>
            <strong>Automatic discovery of library addresses</strong>
            
         </p>
         
         
         <p>Address translation allows for the automatic discovery of library load addresses by analyzing the log file for events. By
            default, the Add Library dialog in the Address Translation dialog lets you specify that the library address should be discovered
            automatically. When kernel logging is used in conjunction with a C/C++ launch configuration and the Application Profiler tool,
            address translation for the generated kernel trace will have address translation information. 
            
            
         </p>
         
         
         <p>
            <span><img src="../images/AddressTranslationsSysProf_.xml_d172688e226.jpg" alt="Address translation: Add Library dialog" /></span>
            
         </p>
         
         
         <div class="fignone">
            
            <p>Address translation: adding a library.</p>
            
            
         </div>
         
         
         <p>If you open a log file that has address translation information with libraries set to auto-discover, the log file will be
            analyzed and the library addresses determined for address translation. If library addresses are discovered, they're persisted
            to the trace log so that the lookup doesn't occur the next time you open the log. If the auto-discovery of library addresses
            isn't successful (i.e. generation of <var class="varname">MMAPNAME</var> events was disabled in the kernel trace log launch configuration), you'll receive a warning that you'll need to manually
            set this information. 
         </p>
         
         
         <p>You have the option to disable the warning, or by using the System Profiler address translation preference page (set using
            <span class="menucascade">
               <span class="uicontrol">Window</span>
               &gt; <span class="uicontrol">Preferences</span>
               </span>, and then select <span class="menucascade">
               <span class="uicontrol">QNX</span>
               &gt; <span class="uicontrol">System Profiler</span>
               &gt; <span class="uicontrol">Address Translation Configuration</span>
               </span>, and set the option <span class="uicontrol">Provide a warning if address translation auto-discovery fails while opening a trace log</span>): 
            
         </p>
         
         
         <p>
            <span><img src="../images/AddressTranslationsSysProf_.xml_d172688e280.jpg" alt="Address translation Preferences dialog" /></span>
            
         </p>
         
         
         <div class="fignone">
            
            <p>Setting preferences for address translation.</p>
            
            
         </div>
         
         
         <p>The libraries associated with the launch are also added to the address translation, along with the binary. These libraries
            will be set to auto-discover, meaning that under most scenarios when running a C/C++ launch in combination with the Application
            Profiler and System Profiler tools, address translation will automatically function without requiring user intervention. 
         </p>
         
         
      </div>
      
      
      <div>
         
         <div class="familylinks">
            
            <div class="parentlink"><strong>Parent topic:</strong> <a href="../topic/sysprof_TARGET_.html" shape="rect">Configuring a target for system profiling</a></div>
            
         </div>
         
         <div class="relinfo"><strong>Related concepts</strong><br clear="none" />
            
            <div><a href="../topic/sysprof_WIZARD_.html" shape="rect">Launching the Log Configuration dialog</a></div>
            
            <div><a href="../topic/sysprof_WIZOPTS_.html" shape="rect">Configuring your kernel event trace</a></div>
            
            <div><a href="../topic/sysprof_CAPTURE_.html" shape="rect">Capturing instrumentation data in event log files</a></div>
            
         </div>
         
      </div>
      
      <div id="custom-footer">
         	
         <p class="copyright-notice"><a href="PLUGINS_ROOT/com.qnx.doc.copyright/topic/copyright_overview.html" style="color:black" shape="rect">Copyright</a> | <a href="http://community.qnx.com/sf/sfmain/do/home" style="color:black" shape="rect">Community</a></p>
         
      </div>
      
   </body>
</html>