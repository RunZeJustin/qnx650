
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="copyright" content="(C) Copyright 2005" />
      <meta name="DC.rights.owner" content="(C) Copyright 2005" />
      <meta name="DC.Type" content="concept" />
      <meta name="DC.Title" content="Optimizing heap memory" />
      <meta name="abstract" content="" />
      <meta name="description" content="" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_Memory_Optimization.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_ProcessMem_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_Performance_Of_Heap_Allocations.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_analyzingallocpatterns_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_AllocationOverhead_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_EstimatingAllocationSize_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_TuningAllocator_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_OptstaticStackMem_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_MEMLEAKS_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_DetecMemLeaks_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/memory_InspectMemAllocations_.html" />
      <meta name="DC.Format" content="XHTML" />
      <meta name="DC.Identifier" content="Optimizingheapmemory" />
      <meta name="DC.Language" content="en-us" />
      <link rel="stylesheet" type="text/css" href="../commonltr.css" />
      <link rel="stylesheet" type="text/css" href="../style.css" />
      <title>Optimizing heap memory</title>
   </head>
   <body id="Optimizingheapmemory"><a name="Optimizingheapmemory" shape="rect">
         <!-- --></a>
      
      
      
      <h1 class="topictitle1">Optimizing heap memory</h1>
      
      
      
      <div>
         <p></p>
         
         
         
         <p>You can use the following techniques to optimize memory usage:
            
         </p>
         
         <br clear="none" /><ul>
            <li>eliminate memory leaks
               	
            </li>
            <li>shorten the life cycle of heap objects
               	
            </li>
            <li>reduce the overhead of allocated objects
               	
            </li>
            <li>configure the allocator</li>
         </ul>
         
         
         <p>Another optimization technique is to shorten the life cycle of the heap object. This technique lets the allocator reclaim
            memory faster, and allows it to be immediately used for new heap objects, which, over time, reduces the maximum amount of
            memory required.
            
            
         </p>
         
         
         <p>Always attempt to free objects in the same function as they are allocated, unless it is an allocation function. An allocation
            function is a function that returns or stores a heap object to be used after this function exits. A good pattern of local
            memory allocation will look like this:
            
            
         </p>
         
         <pre class="codeblock" xml:space="preserve">p=(type *)malloc(sizeof(type));
do_something(p);
free(p);
p=NULL;
do_something_else();</pre>
         
         <p>After the pointer us used, it is freed, then nullified. The memory is then free to be used by other processes. In addition,
            try to avoid creating aliases for heap variables because it usually makes code less readable, more error prone, and difficult
            to analyze.
            
            
            
            
         </p>
         
         
      </div>
      
      
      <div>
         
         <ul class="ullinks">
            <li class="ulchildlink"><strong><a href="../topic/memory_MEMLEAKS_.html" shape="rect">Memory leaks</a></strong><br clear="none" />
               
            </li>
            <li class="ulchildlink"><strong><a href="../topic/memory_DetecMemLeaks_.html" shape="rect">Enabling memory leak detection</a></strong><br clear="none" />
               
            </li>
            <li class="ulchildlink"><strong><a href="../topic/memory_InspectMemAllocations_.html" shape="rect">Inspecting outstanding allocations</a></strong><br clear="none" />
               
            </li>
         </ul>
         
         
         <div class="familylinks">
            
            <div class="parentlink"><strong>Parent topic:</strong> <a href="../topic/memory_Memory_Optimization.html" shape="rect">Memory optimization</a></div>
            
         </div>
         
         <div class="relinfo"><strong>Related concepts</strong><br clear="none" />
            
            <div><a href="../topic/memory_ProcessMem_.html" shape="rect">Process memory</a></div>
            
            <div><a href="../topic/memory_Performance_Of_Heap_Allocations.html" shape="rect">Performance of heap allocations</a></div>
            
            <div><a href="../topic/memory_analyzingallocpatterns_.html" shape="rect">Analyzing allocation patterns</a></div>
            
            <div><a href="../topic/memory_AllocationOverhead_.html" shape="rect">Types of allocation overhead</a></div>
            
            <div><a href="../topic/memory_EstimatingAllocationSize_.html" shape="rect">Estimating the average allocation size</a></div>
            
            <div><a href="../topic/memory_TuningAllocator_.html" shape="rect">Tuning the allocator</a></div>
            
            <div><a href="../topic/memory_OptstaticStackMem_.html" shape="rect">Optimizing static and stack memory</a></div>
            
         </div>
         
      </div>
      
      <div id="custom-footer">
         	
         <p class="copyright-notice"><a href="PLUGINS_ROOT/com.qnx.doc.copyright/topic/copyright_overview.html" style="color:black" shape="rect">Copyright</a> | <a href="http://community.qnx.com/sf/sfmain/do/home" style="color:black" shape="rect">Community</a></p>
         
      </div>
      
   </body>
</html>