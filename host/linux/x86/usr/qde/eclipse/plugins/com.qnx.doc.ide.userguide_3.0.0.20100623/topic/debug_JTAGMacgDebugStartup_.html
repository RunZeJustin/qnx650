
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="copyright" content="(C) Copyright 2005" />
      <meta name="DC.rights.owner" content="(C) Copyright 2005" />
      <meta name="DC.Type" content="task" />
      <meta name="DC.Title" content="Debugging a startup binary" />
      <meta name="abstract" content="" />
      <meta name="description" content="" />
      <meta name="DC.Relation" scheme="URI" content="../topic/debug_JTAGMacraigor_.html" />
      <meta name="DC.Format" content="XHTML" />
      <meta name="DC.Identifier" content="Debuggingastartupbinary" />
      <meta name="DC.Language" content="en-us" />
      <link rel="stylesheet" type="text/css" href="../commonltr.css" />
      <link rel="stylesheet" type="text/css" href="../style.css" />
      <title>Debugging a startup binary</title>
   </head>
   <body id="Debuggingastartupbinary"><a name="Debuggingastartupbinary" shape="rect">
         <!-- --></a>
      
      
      
      <h1 class="topictitle1">Debugging a startup binary</h1>
      
      
      
      <div>
         <p></p>
         
         
         <div class="p">Using the Debug perspective from the QNX Momentics IDE, you can debug the startup binary
            of the Neutrino image created earlier. 
         </div>
         
         
         <div class="section">To debug the startup binary:</div>
         
         
         <ol>
            <li class="stepexpand">
               <span>Change to the Debug perspective if it isn't currently open.</span>
               
               
               <p>The first thing
                  you'll notice is that the target board has been automatically restarted. After
                  waiting a certain number of seconds as specified in the <span class="uicontrol">Reset and
                     Delay (seconds)</span> checkbox on the <span class="uicontrol">Startup</span>
                  tab of the Debug launch configuration, the QNX Momentics IDE will begin to
                  upload the image to the target through the JTAG pins. 
               </p>
               
               
               <p>After the image has
                  been successfully uploaded, startup will commence until it hits a breakpoint.
                  
               </p>
               
               
               <p>Once the IDE encounters a breakpoint, you'll see several things at once.
                  In the top-left portion of the Debug perspective, you will see a stack trace for
                  the current location of the code. 
               </p>
               
               
               <p>
                  <span><img src="../images/debug_JTAGMacgDebugStartup_.xml_d49501e44.jpg" alt="Debug perspective" /></span>
                  
               </p>
               
               
               <p>In your debug results, it might appear to be more shallow than the stack
                  traces that you would typically see because the code isn't running in a
                  complicated environment, but directly on the hardware. 
               </p>
               
               
               
            </li>
            <li class="stepexpand">
               <span>You can also select the <span class="uicontrol">Variables</span> tab to view the value of
                  local and global variables for which symbols exist, and you'll see the Code view and
                  Disassembly view. The Disassembly view will incorporate the source code into its
                  display, allowing you to easily see which machine instructions correspond to which
                  lines of code. </span>
               
            </li>
            <li class="stepexpand">
               <span>In either the Code view or the Disassembly view, you can set and remove breakpoints
                  by double-clicking on the margin. You can use the Step and Continue tools at the top
                  of the screen to resume execution. </span>
               
            </li>
         </ol>
         
         
         <div class="section">
            
            <p>Once you've finished your debugging session, you should remove all breakpoints and click
               <span class="uicontrol">Continue</span> to let startup finish booting up. A quick look at
               the serial console will show a fully-booted Neutrino image.
            </p>
            
            
            <p>Mudflap provides runtime pointer checking capability to the GNU C/C++ compiler (gcc). It
               adds runtime error checking for pointers that are typically the cause for many
               programming errors in C and C++. Since Mudflap is included with the compiler, it doesn't
               require any additional tools in the tool chain, and it can be easily added to a build by
               specifying the necessary GCC options (see <a href="debug_MudflapOptionsIDE_.html" shape="rect">Options for Mudflap</a>.) 
            </p>
            
            
            <p>Mudflap instruments all of the risky pointer and array dereferencing operations, some
               standard library string/heap functions, and some other associated constructs with range
               and validity tests. Instrumented modules will detect buffer overflows, invalid heap use,
               and some other classes of C/C++ programming errors. The instrumentation relies on a
               separate runtime library (<span class="filepath">libmudflap</span>), which will be linked into a
               program when the compile option (<span class="option">-fmudflap</span>) and linker option (<span class="option">-lmudflap</span>) are provided
               for the build. 
            </p>
            
            
         </div>
         
         
      </div>
      
      
      <div>
         
         <div class="familylinks">
            
            <div class="parentlink"><strong>Parent topic:</strong> <a href="../topic/debug_JTAGMacraigor_.html" shape="rect">JTAG: Using the Macraigor Usb2Demon Debugger with a QNX Neutrino kernel image</a></div>
            
         </div>
         
      </div>
      
      <div id="custom-footer">
         	
         <p class="copyright-notice"><a href="PLUGINS_ROOT/com.qnx.doc.copyright/topic/copyright_overview.html" style="color:black" shape="rect">Copyright</a> | <a href="http://community.qnx.com/sf/sfmain/do/home" style="color:black" shape="rect">Community</a></p>
         
      </div>
      
   </body>
</html>