
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="copyright" content="(C) Copyright 2005" />
      <meta name="DC.rights.owner" content="(C) Copyright 2005" />
      <meta name="DC.Type" content="concept" />
      <meta name="DC.Title" content="Postmortem profiling for Call Count and sampling" />
      <meta name="abstract" content="" />
      <meta name="description" content="" />
      <meta name="DC.Relation" scheme="URI" content="../topic/profiler_PROFILING_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/profiler_build_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/profiler_profile_running_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/profiler_profile_already_running_.html" />
      <meta name="DC.Relation" scheme="URI" content="../topic/profiler_AppProfileReference_.html" />
      <meta name="DC.Format" content="XHTML" />
      <meta name="DC.Identifier" content="PostmortemprofilingforCallCountandsampling" />
      <meta name="DC.Language" content="en-us" />
      <link rel="stylesheet" type="text/css" href="../commonltr.css" />
      <link rel="stylesheet" type="text/css" href="../style.css" />
      <title>Postmortem profiling for Call Count and sampling</title>
   </head>
   <body id="PostmortemprofilingforCallCountandsampling"><a name="PostmortemprofilingforCallCountandsampling" shape="rect">
         <!-- --></a>
      
      
      
      <h1 class="topictitle1">Postmortem profiling for Call Count and sampling</h1>
      
      
      
      <div>
         <p></p>
         
         
         <p>Postmortem profiling lets you profile your application (the data generated by the profiling process) at a later time. The
            IDE lets you profile your program after it terminates, using the traditional <span class="filepath">gmon.out</span> file; however, postmortem profiling doesn't provide as much information as profiling a running process because: 
            
         </p>
         
         <br clear="none" /><ul>
            <li>multithreaded processes aren't supported by this mode, so the totals of all your program's threads are combined as one thread
               
            </li>
            <li>call-pair information from shared libraries and DLLs isn't shown</li>
         </ul>
         
         
         <p>Profiling a <span class="filepath">gmon.out</span> file involves these basic steps:
            
         </p>
         
         <br clear="none" /><ul>
            <li>
               <a href="profiler_PROFUsingPostmortemProf_.html" shape="rect">Using postmortem profiling for Call Count and Sampling</a>
               
            </li>
            <li>
               <a href="profiler_PROFCreateSessByImpData_.html" shape="rect">Creating a profiler session by importing profiler data</a>
               
            </li>
         </ul>
         
         
         <p>
            <strong>Gathering profiling information</strong>
            
         </p>
         
         
         <p>To gather profiling information in a <span class="filepath">gmon.out</span> file, you need to specify the <var class="varname">PROFDIR</var> environment variable before launching your application. 
            
            
         </p>
         
         
         <p>If you're launching from the command line, type the following:</p>
         
         <pre class="codeblock" xml:space="preserve">PROFDIR=/tmp ./appname</pre>
         
         <p>To launch from the IDE: </p>
         
         <br clear="none" /><ol>
            <li>Create a launch configuration for a <em>debuggable</em> executable as you normally would, but don't click <span class="uicontrol">Run</span> or <span class="uicontrol">Debug</span>. 
               <div class="note"><span class="notetitle">Note:</span> You must have the QNX Application Profiler tool <em>disabled</em> in your launch configuration.
               </div>
               
            </li>
            <li>Click the <span class="uicontrol">Tools</span> tab and <em>deselect</em> the <span class="uicontrol">Application Profiler</span> tool, and click <span class="uicontrol">OK</span>. 
            </li>
            <li>Select the <span class="uicontrol">Environment</span> tab. 
            </li>
            <li>Click <span class="uicontrol">New</span>.
            </li>
            <li>In the <span class="uicontrol">Name</span> field, type <kbd class="userinput">PROFDIR</kbd>.
            </li>
            <li>In the <span class="uicontrol">Value</span> field, enter a valid path to a directory on your target machine. 
               <div class="note"><span class="notetitle">Note:</span> This path must be a valid location on the target machine; otherwise, you'll receive a warning message indicating that the
                  IDE was unable to open the <span class="filepath">gmon.out</span> file for output.
               </div>
               
            </li>
            <li>Click <span class="uicontrol">OK</span>. 
            </li>
            <li>Run your program. When your program exits successfully, it creates a new file in the directory you specified. The filename
               format is <var class="varname">pid</var>.<var class="varname">fileName</var> (e.g. <span class="filepath">3047466.helloworld_g</span>). This is the <span class="filepath">gmon.out</span> profiler data file.
            </li>
         </ol>
         
         
         <p>
            <strong>Transferring a file</strong>
            
         </p>
         
         
         <p>You can import <span class="filepath">.gmon</span>, <span class="filepath">.kev</span>, <span class="filepath">.ptrace</span>, or <span class="filepath">.xml</span> data files using the Import action from the session view, or using the Import wizard: 
            
            
            
            
            
            
            
            
            
            
            
         </p>
         
         <br clear="none" /><ol>
            <li>Open the Target File System Navigator view (<span class="menucascade">
                  <span class="uicontrol">Window</span>
                  &gt; <span class="uicontrol">Show View</span>
                  &gt; <span class="uicontrol">Other…</span>
                  &gt; <span class="uicontrol">QNX Targets</span>
                  &gt; <span class="uicontrol">Target File System Navigator</span>
                  </span>). 
            </li>
            <li>In the Target File System Navigator view, right-click your file and select <span class="menucascade">
                  <span class="uicontrol">Copy to…</span>
                  &gt; <span class="uicontrol">Workspace</span>
                  </span>. The <span class="uicontrol">Select target folder</span> dialog appears. 
            </li>
            <li>Select the project related to your program. </li>
            <li>Click <span class="uicontrol">OK</span>. 
            </li>
            <li>In the Project Explorer view, right-click your file and select <span class="uicontrol">Import into QNX Application Profiler</span>. The Program Selection dialog appears.
               
               
            </li>
            <li>Select the binary that generated the file. </li>
            <li>Click <span class="uicontrol">OK</span>. You can now profile your program in the QNX Application Profiler perspective.
            </li>
         </ol>
         
         
      </div>
      
      
      <div>
         
         <div class="familylinks">
            
            <div class="parentlink"><strong>Parent topic:</strong> <a href="../topic/profiler_PROFILING_.html" shape="rect">Profiling your programs</a></div>
            
         </div>
         
         <div class="relinfo"><strong>Related concepts</strong><br clear="none" />
            
            <div><a href="../topic/profiler_build_.html" shape="rect">Building a program for profiling</a></div>
            
            <div><a href="../topic/profiler_AppProfileReference_.html" shape="rect">Application Profiler tab</a></div>
            
         </div>
         
         <div class="relinfo"><strong>Related tasks</strong><br clear="none" />
            
            <div><a href="../topic/profiler_profile_running_.html" shape="rect">Running and profiling a process</a></div>
            
            <div><a href="../topic/profiler_profile_already_running_.html" shape="rect">Profiling a running process</a></div>
            
         </div>
         
      </div>
      
      <div id="custom-footer">
         	
         <p class="copyright-notice"><a href="PLUGINS_ROOT/com.qnx.doc.copyright/topic/copyright_overview.html" style="color:black" shape="rect">Copyright</a> | <a href="http://community.qnx.com/sf/sfmain/do/home" style="color:black" shape="rect">Community</a></p>
         
      </div>
      
   </body>
</html>